<?xml version="1.0" standalone="yes"?>
<prm-css>
    <css type="none"/>
    <css type="traditional"><![CDATA[
h1 {
  font-size: 2em;
  font-weight: bold;
}
h2 {
  font-size: 1.5em;
  font-weight: bold;
}
h3 {
  font-size: 1em;
  font-weight: bold;
}
h4 {
  font-size: 1em;
  font-weight: bold;
}
h5 {
  font-size: 1em;
  font-weight: bold;
}

h1, h2, h3, h4, h5 {
  font-family: sans-serif;
}

/* Markers for bad content */
dd {
    background-color: pink;
}
dl {
    background-color: lightblue;
}
dt {
    background-color: lightgreen;
}

header {
}
header h1 {
  margin-top: 0em;
  padding-top: 0.67em;
  padding-bottom: 0.67em;
  border-top: 2px solid black;
  border-bottom: 2px solid black;
}


header h1 .chapter-docgroup {
  display: none
}
header h1 .chapter-number {
  display: inline-block;
}
header h1 .chapter-name {
  display: inline-block;
}

nav {
  border-bottom: 2px solid black;
}
nav h2 {
}
nav > ul {
  padding-left: 5rem;
}

section.section {
  border-bottom: 2px solid black;
  padding-bottom: 1rem;
}
section.section {
  padding-left: 5rem;
}
section.section h2 {
  margin-left: -5rem;
}
section.subsection h3 {
  margin-left: -5rem;
}
section.subsubsection h4 {
  margin-left: -2.5rem;
}
section.category h5 {
}

.service-definition, .swi-definition, .vector-definition, .upcall-definition, .command-definition, .vdu-definition, .error-definition, .sysvar-definition, .message-definition, .tboxmessage-definition, .tboxmethod-definition, .entry-definition {
  border-top: 2px solid black;
}
.definition-header {
  margin-top: 1.25rem;
  margin-bottom: 1.25rem;
}
.definition-title {
  display: block;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.5em;
  text-align: right;
}
.definition-name-prefix {
}
.definition-name {
}
.definition-reason {
}
.definition-subtitle {
  display: block;
  font-family: sans-serif;
  font-weight: bold;
  font-size: 1.5em;
  text-align: right;
}
.definition-subtitle::before {
  content: '(';
}
.definition-subtitle::after {
  content: ')';
}
.definition-number {
}
.definition-number-prefix {
}
.definition-description {
    display: block;
}
section.definition {
  margin-left: 0em;
  margin-bottom: 1em;
}
section.definition::before {
  display: block;
  font-weight: bold;
  font-family: sans-serif;
  font-size: 1.1rem;
  margin-left: -2.5rem;
  margin-top: 2rem;
  margin-bottom: 0.5rem;
}
.definition-internal {
}
.definition-entry::before {
  content: 'On entry';
}
.definition-exit::before {
  content: 'On exit';
}
.definition-interrupts::before {
  content: 'Interrupts';
}
.definition-processor::before {
  content: 'Processor mode';
}
.definition-reentrancy::before {
  content: 'Re-entrancy';
}
.definition-use::before {
  content: 'Use';
}
.definition-syntax::before {
  content: 'Syntax';
}
.definition-parameters::before {
  content: 'Parameters';
}
.definition-message::before {
  content: 'Message';
}
.definition-message-source::before {
  content: 'Source';
}
.definition-message-destination::before {
  content: 'Destination';
}
.definition-message-delivery::before {
  content: 'Delivery';
}
.definition-declarations::before {
  content: 'Declarations';
}
.definition-examples::before {
  content: 'Examples';
}
.definition-related-apis::before {
  content: 'Related APIs';
}
.definition-related-commands::before {
  content: 'Related * commandss';
}
.definition-related-swis::before {
  content: 'Related SWIs';
}
.definition-related-services::before {
  content: 'Related services';
}
.definition-related-tboxmethods::before {
  content: 'Related Toolbox methods';
}
.definition-related-tboxmessages::before {
  content: 'Related Toolbox messages';
}
.definition-related-vectors::before {
  content: 'Related vectors';
}
.definition-related-upcalls::before {
  content: 'Related upcalls';
}
.definition-related-errors::before {
  content: 'Related error messages';
}
.definition-related-sysvars::before {
  content: 'Related system variables';
}
.definition-related-entries::before {
  content: 'Related entry points';
}
.definition-related-messages::before {
  content: 'Related messages';
}
.definition-related-vdus::before {
  content: 'Related VDU codes';
}
.definition-register {
  text-align: right;
}
.definition-syntax-line {
  font-family: monospace;
}
.definition-parameters-list {
    border-spacing: 0.375rem 0px;
}
.definition-parameters-list td {
    vertical-align: top;
}
.definition-parameter > td {
    padding-bottom: 0.5em;
}
.definition-parameter-aliases {
}
.definition-parameter-aliases td {
    padding-top: 0px;
}
table {
    border-spacing: 2px 0px;
}

.user-table {
    border: 0;
}
.user-table td, .user-table th {
    padding-left: 0.5em;
}
.user-table td {
    padding-top: 0.375em;
}
.user-table .table-number {
    min-width: 3em;
}
.table-head {
    vertical-align: bottom;
}
.table-head .table-number {
    text-align: right;
}
.table-head .table-name {
    text-align: left;
}
.table-head .table-value {
    text-align: left;
}
.table-body {
    vertical-align: top;
}
.table-body .table-number {
    text-align: right;
}
.table-body .table-name {
    text-align: left;
}
.table-body .table-value {
    text-align: left;
}
.table-body .table-value.table-value-bitstate {
    text-align: right;
}

.userreplace {
  font-style: italic;
}
.userreplace::before {
  content: "<";
}
.userreplace::after {
  content: ">";
}
.userinput {
  font-family: monospace;
  font-weight: bold;
}
.systemoutput {
  font-family: monospace;
}
.menuoption {
  font-style: italic;
}
.variable {
  font-family: monospace;
}
.command {
  font-family: monospace;
}
.function {
  font-family: monospace;
}
.filename {
  font-family: monospace;
}
.sysvar {
  font-family: monospace;
}
.extended-example {
  display: block;
  font-family: monospace;
  white-space: pre;
  margin-top: 1em;
  margin-bottom: 1em;
}

th, td {
  vertical-align: top;
}

footer {
  padding-bottom: 1em;
  border-bottom: 2px solid black;
}
section.meta > * {
  margin-left: 2.5em;
}
section.meta h2 {
  margin-left: 0em;
}
table.meta tr th {
  text-align: right;
}
table.meta tr.history table th {
  text-align: left;
}
table.meta table.history {
  border: none;
  border-spacing: 0.375rem 0px;
}
table.meta table.history th {
  padding-top: 0px;
}
.revision-date {
  white-space: nowrap;
}
ul.revision-changes {
  padding-left: 1em;
  margin-left: 0.5em;
}
h5.revision-title {
  font-size: 1em;
  font-weight: bold;
  font-family: serif;
  margin-top: 0em;
  margin-bottom: 0em;
}
table.meta tr.history ul {
  margin-top: 0em;
  margin-bottom: 0em;
}
table.meta p {
  margin-top: 0em;
  margin-bottom: 0em;
}

.maintainer .email {
    display: block;
}
]]></css>

<!-- 'traditional' variant 'acornfs' is based on the Acorn Functional Specification style that was used
     for many later NC, Ursula and Browse related specifications.
     It shares many features with the PRM so is appropriate for a lot of the uses, but...
        * It doesn't have the common indented text format that was used in the paper manuals.
        * Tables are bordered and given header dividers.
        * The highlight colour for links is green.
        * Background colouring is used for the definition header title, to separate sections.

     This style varies from the original Acorn style in that:
        * The sections/subsections/subsubsections/categories are indented slightly, to make it clearer
          what level they are at
        * Green dividers are used between sections to ensure that the content is divided up in a
          more clear way.
-->
    <css type="traditional" variant="acornfs"><![CDATA[
/* Green borders, centred heading */
header h1 {
    border-color: #008000;
    border-top-width: 0.25rem;
    border-bottom-width: 0.25rem;
    text-align: center;
}
footer {
  border-bottom: 0.25rem solid #008000;
}
nav {
  border-bottom: 0.25rem solid #008000;
}

/* Links are green */
a:link {
    color: #007000;
}
a:visited {
    color: #90a090;
}
a:active {
    color: #a0a070;
}

/* Numbering beside each section */
/* Note: I'm not at all sure I like this; it seems unreliable in Firefox when multiple counters are used.
   DISABLED FOR NOW.
 */

/*
article {
  counter-reset: countersection;
}

article section h2 {
  counter-reset: countersubsection;
}
article section h2::before {
  counter-increment: countersection;
  content: counter(countersection) ". ";
}

article section h3 {
  counter-reset: countersubsubsection;
}
article section h3::before {
  counter-increment: countersubsection;
  content: counter(countersection) "." counter(countersubsection) " ";
}

article section h4 {
  counter-reset: countercategory;
}
article section h4::before {
  counter-increment: countersubsubsection;
  content: counter(countersection) "." counter(countersubsection) "." counter(countersubsubsection) " ";
}

article section h5::before {
  counter-increment: countercategory;
  content: counter(countersection) "." counter(countersubsection) "." counter(countersubsubsection) "." counter(countercategory) " ";
}
/* End numbering */

/* Centred headings */
article section h2 {
    text-align: center;
    padding-left: 0;
}
h2.contents {
    text-align: center;
}

/* Make the divider between sections green */
section.section {
  border-bottom: 0.25rem solid #008000;
}

/* Remove all the text indentations, leave the headings with some indentation (not sure about this) */
section.section {
  padding-left: 0;
}
section.section h2 {
  margin-left: 0;
}
section.subsection h3 {
  margin-left: 0em;
}
section.subsubsection h4 {
  margin-left: 0.5rem;
}
section.category h5 {
  margin-left: 1.0rem;
}

section.definition::before {
  margin-left: 0;
}
section.definition > * {
  margin-left: 2.5rem;
}

/* Background heading line for the definitions */
span.definition-title {
    background-color: #e5e5e5;
    padding: 0.125em 0em 0.125em 0em;
    font-size: 1.25em;
}
span.definition-subtitle {
    font-weight: normal;
    font-size: 1em;
}
div.definition-description {
    text-align: right;
    font-style: italic;
}

/* Remove the border at the top of the definitions */
.service-definition, .swi-definition, .vector-definition, .upcall-definition, .command-definition, .vdu-definition, .error-definition, .sysvar-definition, .message-definition, .tboxmessage-definition, .tboxmethod-definition, .entry-definition {
  border-top: 2px none #008000;
}

/* Tables are bordered and have background colours */
table.user-table {
    border: 1px inset black;
    border-collapse: separate;
    border-spacing: 1px;
    margin-left: 1em;
    margin-right: 1em;
}
table.user-table td {
    padding: 2px 4px 2px 4px;
    border: 1px inset #888888;
}

table.user-table th {
    padding: 2px;
    border: 1px inset #888888;
    background-color: #dddddd;
}
.table-head .table-value {
    text-align: center;
}

/* Metadata at the bottom should be centred */
footer section.meta {
    text-align: center;
}
footer section.meta table {
    margin-left: auto;
    margin-right: auto;
}

]]></css>

<!-- This variant is closer to the PRM than the standard style -->
    <css type="traditional" variant="prm"><![CDATA[
/* Grey divider lines */
header h1 {
  border-top: 0.375rem solid lightgray;
  border-bottom: 0.375rem solid lightgray;
}

nav {
  border-bottom: 0.375rem solid lightgray;
}
section.section {
  border-bottom: 0.375rem solid lightgray;
}

.service-definition, .swi-definition, .vector-definition, .upcall-definition, .command-definition, .vdu-definition, .error-definition, .sysvar-definition, .message-definition, .tboxmessage-definition, .tboxmethod-definition, .entry-definition {
  border-top: 0.375rem solid lightgray;
}
footer {
  border-bottom: 0.375rem solid lightgray;
}


/* Indent the chapter name like the PRM did */
header h1 {
  position: relative;
}
header h1 .chapter-number {
  position: absolute;
  width: 5rem;
}
header h1 .chapter-name {
  padding-left: 5rem;
  display: inline-block;
}

/* Heading sizes are much bigger, and not always bold */
h1 {
  font-size: 2.4em;
  font-weight: bold;
}
h2 {
  font-size: 1.8em;
  font-weight: normal;
}
h3 {
  font-size: 1.2em;
  font-weight: bold;
}
h4 {
  font-size: 1.2em;
  font-weight: normal;
}
h5 {
  font-size: 1em;
  font-weight: bold;
}


/* Lists are bulleted in line with the left text */
article ol {
    margin-left: 1em;
    padding-left: 1em;
}
article ul {
    margin-left: 0;
    padding-left: 1.5em;
}
article ul > li {
    margin-left: 0;
    padding-left: 1em;
}
article ol > li {
    margin-left: 0;
    padding-left: 0.5em;
}
/* All lists are just plain bullets; they don't vary */
ul {
    list-style-type: disc;
}

/* Definitions are not bold, and are bigger */
.definition-title, .definition-subtitle {
    font-size: 1.8rem;
    font-weight: normal;
}

/* Links are always in italic (in the article - not in the contents) */
article a:link, article a:visited, article a:hover, article a:active {
    font-style: italic;
}
/* (and not in the 'related' sections) */
article .definition-related a:link,
article .definition-related a:visited,
article .definition-related a:hover,
article .definition-related a:active {
    font-style: normal;
}

/* Styling specific to the printing */
@media print {

    /* Avoid multiple dividers at the top of the page (the header bar + the definition border) */
    .service-definition, .swi-definition, .vector-definition, .upcall-definition, .command-definition, .vdu-definition, .error-definition, .sysvar-definition, .message-definition, .tboxmessage-definition, .tboxmethod-definition, .entry-definition {
        border-top: none;
    }

    /* The contents of the chapter makes little sense */
    header nav {
        display: none;
    }

    /* Add on the page that the reference exists on */
    a[href]::after {
        content: " (on page " target-counter(attr(href), page) ")";
    }
    a.reference-link[href]::after {
        content: none;
    }
    a[href^="mailto:"]::after, a[href^="http:"]::after, a[href^="https:"]::after {
        content: none;
    }
    a[href] {
        text-decoration: underline;
        text-underline-style: dashed;
        text-underline-color: gray;
        color: black;
    }

    /* In the regular version these are a comma separated list;
       instead make them one per line as they'll be longer and the links will be irrelevant */
    .definition-related .reference {
        display: block;
    }
    .definition-related-divider {
        display: none;
    }
}


/* Some paged media page breaks */
.service-definition, .swi-definition, .vector-definition, .upcall-definition, .command-definition, .vdu-definition, .error-definition, .sysvar-definition, .message-definition, .tboxmessage-definition, .tboxmethod-definition, .entry-definition {
    break-before: page;
}
section.section {
    break-before: page;
}
section.section:first-of-type {
    break-before: avoid;
}
section.section .service-definition:first-of-type,
section.section .swi-definition:first-of-type,
section.section .vector-definition:first-of-type,
section.section .upcall-definition:first-of-type,
section.section .command-definition:first-of-type,
section.section .vdu-definition:first-of-type,
section.section .error-definition:first-of-type,
section.section .sysvar-definition:first-of-type,
section.section .message-definition:first-of-type,
section.section .tboxmessage-definition:first-of-type,
section.section .tboxmethod-definition:first-of-type,
section.section .entry-definition:first-of-type {
    break-before: avoid;
}

@page {

    size: a4 portrait;

    margin-top: 2cm;
    margin-bottom: 2cm;
    margin-inside: 3.5cm;
}

@page:left {
    margin-left: 2cm;

    @top-left {
        content: string(section-name);
        font-style: italic;
        font-family: sans-serif;
        vertical-align: bottom;
        padding-bottom: 0.25rem;
        border-bottom: 0.375rem solid #dddddd;
        margin-bottom: 1em;
    }

    @bottom-left {
        content: counter(page);
        font-family: sans-serif;
        vertical-align: top;
        padding-top: 0.25rem;
        /* border-top: 0.375rem solid #dddddd; */
        margin-top: 1em;
    }
}

@page:right {
    margin-right: 2cm;

    @top-right {
        content: string(chapter-name);
        font-style: italic;
        font-family: sans-serif;
        vertical-align: bottom;
        padding-bottom: 0.25rem;
        border-bottom: 0.375rem solid #dddddd;
        margin-bottom: 1em;
    }

    @bottom-right {
        content: counter(page);
        font-family: sans-serif;
        vertical-align: top;
        padding-top: 0.25rem;
        /* border-top: 0.375rem solid #dddddd; */
        margin-top: 1em;
    }

    @right-top {
        display: inline;
        margin-left: 1em;
        margin-top: 1rem;
        padding-top: 3rem;
        padding-bottom: 3rem;
        writing-mode: vertical-rl;
        width: 4em;
        padding-left: 0.5em;
        margin-bottom: 60%;
        font-family: sans-serif;
        content: string(docgroup-name);
        color: white;
        background-color: #dddddd;
    }
}

@page:first {
  @top-left {
    content: normal;
    border-bottom: 0px none;
  }
  @top-right {
    content: normal;
    border-bottom: 0px none;
  }
}

/* Stop the border of the top of the sections being repeated on subsequent pages */
section {
    box-decoration-break: slice;
}

pre {
    font-size: 0.66rem;
    white-space: pre-wrap !important;
}

.chapter-docgroup { string-set: docgroup-name content() }
.chapter-name { string-set: chapter-name content() }
section.section h2,
section.meta h2,
header nav h2 {
    string-set: section-name content()
}

]]></css>
</prm-css>
